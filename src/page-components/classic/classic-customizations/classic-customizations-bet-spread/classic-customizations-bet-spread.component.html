<div class="classic-customizations-bet-spread page">
  <abj-strategy-selector
    [title]="title"
    [activeTitle]="activeStrategy.title"
    [activeStrategy$]="activeStrategy$"
    [defaultTitles]="defaultStrategyTitles"
    [defaultConfig]="defaultStrategy"
    [includedStrategies]="defaultSpreads"
    [configurationType]="localStorageItemsEnum.BET_SPREAD"
    [variation]="localStorageVariationKeys.CLASSIC"
  ></abj-strategy-selector>
  <div class="bet-spread-wrapper flex">
    <div class="flex checkbox-wrapper">
      <label>Uses a half count?</label>
      <abj-checkbox
        [checked]="activeStrategy.useHalfCount"
        (action)="updateHalfCountUsage($event)"
      ></abj-checkbox>
    </div>
    <div class="bet-spread-wrapper">
      <div class="icon-group-wrapper flex">
        <div (click)="addLowerCountSpread()" class="icon-wrapper">
          <span class="material-symbols-outlined">add_circle</span>
        </div>
        <p class="instructions"> Add or Delete counts below TC {{ minSpreadKey }}</p>
        <div (click)="deleteLowerCountSpread()" class="icon-wrapper">
          <span class="material-symbols-outlined">delete</span>
        </div>
      </div>
      <p class="instructions upper">
        Bets below TC {{ minSpreadKey }} will default to {{ activeStrategy.spreads[minSpreadKey] }}
      </p>
    <div class="bet-spread-content">
      <div class="spread flex">
        <p>True Count</p>
        <p class="special-margin-right">Units</p>
      </div>
    @for(key of spreadKeys; track key) {
      <div class="spread flex">
        <div class="key-wrapper">
          <p>{{key}}</p>
        </div>
        <div class="input-wrapper">
          <input
            min="0"
            type="number"
            [(ngModel)]="activeStrategy.spreads[key]"
          >
        </div>
      </div>
    }
    </div>
    <p class="instructions lower">
      Bets above TC {{ maxSpreadKey }} will default to {{ activeStrategy.spreads[maxSpreadKey] }}
    </p>
    <div class="icon-group-wrapper flex">
      <div (click)="addUpperCountSpread()" class="icon-wrapper">
        <span class="material-symbols-outlined">add_circle</span>
      </div>
      <p class="instructions"> Add or delete counts above TC {{ maxSpreadKey }}</p>
      <div (click)="deleteUpperCountSpread()" class="icon-wrapper">
        <span class="material-symbols-outlined">delete</span>
      </div>
    </div>
  </div>
</div>